@model DesapegAutoWeb.Models.AnuncioViewModel
@{
    ViewData["Title"] = Model.Veiculo?.NomeModelo ?? "Detalhes do Veículo";
}

<div class="container" style="padding-top: 40px; padding-bottom: 80px;">
    <!-- Breadcrumb Custom -->
    <nav class="mb-4">
        <div class="d-flex align-center gap-2 text-secondary" style="font-size: 0.9rem;">
            <a asp-controller="Home" asp-action="Index" class="text-secondary hover-text-primary">Início</a>
            <i class="fas fa-chevron-right" style="font-size: 0.7rem;"></i>
            <a asp-controller="Home" asp-action="Search" class="text-secondary hover-text-primary">Busca</a>
            <i class="fas fa-chevron-right" style="font-size: 0.7rem;"></i>
            <span class="text-primary">@Model.Veiculo?.NomeModelo</span>
        </div>
    </nav>

    <div class="d-flex flex-column gap-4">
        <!-- Header Section -->
        <div class="d-flex justify-between align-center flex-wrap gap-3">
            <div>
                <div class="d-flex align-center gap-3 mb-2">
                    <h1 class="display-1" style="font-size: 2.5rem; margin: 0;">@Model.Veiculo?.NomeMarca @Model.Veiculo?.NomeModelo</h1>
                    <span class="badge" style="background: rgba(255, 255, 255, 0.1); color: var(--text-primary); padding: 6px 12px;">@Model.Veiculo?.Ano</span>
                </div>
                <p class="text-secondary" style="font-size: 1.1rem;">@Model.Veiculo?.Versao</p>
            </div>
            <div class="text-end">
                <div class="h2" style="font-size: 2.5rem; color: var(--text-primary); margin: 0;">@Model.Veiculo?.Preco.ToString("C")</div>
                <p class="text-secondary" style="font-size: 0.9rem;">Preço à vista</p>
            </div>
        </div>

        <div class="search-grid" style="grid-template-columns: 2fr 1fr; gap: 32px;">
            <!-- Left Column: Gallery & Info -->
            <div class="d-flex flex-column gap-4">
                <!-- Main Image -->
                <div class="glass-card overflow-hidden position-relative" style="aspect-ratio: 16/9; display: flex; align-items: center; justify-content: center; background: #000;">
                    @if (!string.IsNullOrEmpty(Model.Veiculo?.ImagemPrincipal))
                    {
                        <img src="@Model.Veiculo.ImagemPrincipal" alt="@Model.Veiculo.NomeModelo" style="width: 100%; height: 100%; object-fit: cover;">
                    }
                    else
                    {
                        <div class="d-flex flex-column align-center text-muted">
                            <i class="fas fa-car fa-4x mb-3" style="opacity: 0.3;"></i>
                            <span>Sem imagem disponível</span>
                        </div>
                    }
                    <div class="position-absolute top-0 start-0 m-3">
                        <span class="badge" style="background: var(--accent-white); color: #000; font-weight: 700;">Destaque</span>
                    </div>
                </div>

                <!-- Specs Grid -->
                <div class="glass-card p-4">
                    <h3 class="h4 mb-4">Ficha Técnica</h3>
                    <div class="grid grid-cols-3" style="gap: 24px;">
                        <div class="d-flex align-center gap-3">
                            <div class="btn-icon" style="background: rgba(255,255,255,0.05); width: 48px; height: 48px;">
                                <i class="fas fa-tachometer-alt text-primary"></i>
                            </div>
                            <div>
                                <small class="text-secondary d-block" style="font-size: 0.8rem;">Quilometragem</small>
                                <span class="fw-bold">@(Model.Veiculo?.Quilometragem.ToString("N0") ?? "0") km</span>
                            </div>
                        </div>
                        <div class="d-flex align-center gap-3">
                            <div class="btn-icon" style="background: rgba(255,255,255,0.05); width: 48px; height: 48px;">
                                <i class="fas fa-gas-pump text-primary"></i>
                            </div>
                            <div>
                                <small class="text-secondary d-block" style="font-size: 0.8rem;">Combustível</small>
                                <span class="fw-bold">Flex</span>
                            </div>
                        </div>
                        <div class="d-flex align-center gap-3">
                            <div class="btn-icon" style="background: rgba(255,255,255,0.05); width: 48px; height: 48px;">
                                <i class="fas fa-palette text-primary"></i>
                            </div>
                            <div>
                                <small class="text-secondary d-block" style="font-size: 0.8rem;">Cor</small>
                                <span class="fw-bold">@(Model.Veiculo?.Cor ?? "N/A")</span>
                            </div>
                        </div>
                        <div class="d-flex align-center gap-3">
                            <div class="btn-icon" style="background: rgba(255,255,255,0.05); width: 48px; height: 48px;">
                                <i class="fas fa-cogs text-primary"></i>
                            </div>
                            <div>
                                <small class="text-secondary d-block" style="font-size: 0.8rem;">Câmbio</small>
                                <span class="fw-bold">Automático</span>
                            </div>
                        </div>
                        <div class="d-flex align-center gap-3">
                            <div class="btn-icon" style="background: rgba(255,255,255,0.05); width: 48px; height: 48px;">
                                <i class="fas fa-door-open text-primary"></i>
                            </div>
                            <div>
                                <small class="text-secondary d-block" style="font-size: 0.8rem;">Portas</small>
                                <span class="fw-bold">4 Portas</span>
                            </div>
                        </div>
                        <div class="d-flex align-center gap-3">
                            <div class="btn-icon" style="background: rgba(255,255,255,0.05); width: 48px; height: 48px;">
                                <i class="fas fa-calendar text-primary"></i>
                            </div>
                            <div>
                                <small class="text-secondary d-block" style="font-size: 0.8rem;">Ano</small>
                                <span class="fw-bold">@Model.Veiculo?.Ano</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Description -->
                <div class="glass-card p-4">
                    <h3 class="h4 mb-3">Sobre este veículo</h3>
                    <p class="text-secondary" style="line-height: 1.6;">
                        @(Model.Descricao ?? "O vendedor não forneceu uma descrição detalhada para este veículo.")
                    </p>
                </div>
            </div>

            <!-- Right Column: Contact & Actions -->
            <div class="d-flex flex-column gap-4">
                <div class="glass-card p-4 sticky-top" style="top: 100px;">
                    <div class="d-flex align-center gap-3 mb-4 pb-4 border-bottom" style="border-color: var(--border-light) !important;">
                        <div class="btn-icon" style="background: var(--accent-white); color: #000; width: 56px; height: 56px; font-size: 1.2rem;">
                            <i class="fas fa-user"></i>
                        </div>
                        <div>
                            <small class="text-secondary d-block">Vendido por</small>
                            <span class="h5 m-0">Vendedor Verificado</span>
                        </div>
                    </div>

                    <div class="d-flex flex-column gap-3">
                        <button class="btn btn-primary w-100" style="height: 50px; font-size: 1rem;">
                            <i class="fab fa-whatsapp me-2"></i> Contatar Vendedor
                        </button>
                        <button class="btn btn-outline w-100" style="height: 50px; font-size: 1rem;">
                            <i class="far fa-envelope me-2"></i> Enviar Proposta
                        </button>
                    </div>

                    <div class="mt-4 pt-4 border-top" style="border-color: var(--border-light) !important;">
                        <div class="d-flex align-center gap-2 text-secondary justify-center" style="font-size: 0.9rem;">
                            <i class="fas fa-shield-alt"></i>
                            <span>Compra 100% Segura</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
